(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{MWai:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("1OyB"),c=a("vuIU"),i=a("JX7q"),o=a("Ji7U"),l=a("md7G"),u=a("foSv"),h=a("rePB"),f=a("q1tI"),p=a.n(f),g=a("yE/o"),m=a("D1pA"),b=a("QetY"),d=a("Sf7o"),v=a("scFg"),y=a("8cHP"),k=a("8Kt/"),H=a.n(k),S=p.a.createElement;function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var A=function(e){Object(o.a)(a,e);var t=w(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),Object(h.a)(Object(i.a)(n),"onClick",(function(e){var t,a,s;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),console.log("Receiving......."),c.prev=2,c.next=5,r.a.awrap(v.a.eth.getAccounts());case 5:return t=c.sent,console.log(t[0]),c.next=9,r.a.awrap(d.a.methods.receiveFile().call({from:t[0]}));case 9:return a=c.sent,c.next=12,r.a.awrap(d.a.methods.receiveMessage().call({from:t[0]}));case 12:s=c.sent,n.setState({ipfsHASH:a,message:s}),c.next=19;break;case 16:c.prev=16,c.t0=c.catch(2),n.setState({errormessage:c.t0.message});case 19:console.log(n.state.ipfsHASH),console.log(n.state.message);case 21:case"end":return c.stop()}}),null,null,[[2,16]],Promise)})),n.state={ipfsHASH:"",errormessage:"",url:"",message:""},n.onClick=n.onClick.bind(Object(i.a)(n)),n.generate=n.generate.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"generate",value:function(e){e.preventDefault(),console.log("Received...."),y.Router.pushRoute("/receive/".concat(this.state.ipfsHASH)),console.log(this.state.ipfsHASH)}},{key:"render",value:function(){return S(g.a,null,S(H.a,null,S("link",{async:!0,rel:"stylesheet",href:"//cdn.jsdelivr.net/npm/semantic-ui@2.2.12/dist/semantic.min.css"})),S("head",null,S("h2",null,"File Sharing dApp")),S("div",{style:{textAlign:"center",margin:30}},S("h2",null,"File Sharing dApp"),S("nav",null,S(m.a,{name:"home"}),S(y.Link,{route:"/"},S("a",{style:{color:"black"}},"Home"))," | |",S(m.a,{name:"user"}),S(y.Link,{route:"/about"},S("a",{href:"#",style:{color:"black"}},"About"))," |",S(m.a,{name:"github"}),S("a",{href:"https://github.com/yathartharora/FileSharing_Dapp",style:{color:"black"}},"Github")," |",S(m.a,{name:"medium"}),S("a",{href:"https://medium.com/@yathartharora1999",style:{color:"black"}},"Blogs")," |",S(m.a,{name:"git"}),S("a",{href:"https://github.com/yathartharora/FileSharing_Dapp",style:{color:"black"}},"Contribute"))," "),S("div",null,S(b.a,{onClick:this.onClick,size:"big"},"Generate URL"),S(b.a,{onClick:this.generate,size:"big"},"Open File")),S("br",null),S("div",null,S("a",{href:"https://ipfs.io/ipfs/".concat(this.state.ipfsHASH)},"Generated URL: ","https://ipfs.io/ipfs/".concat(this.state.ipfsHASH))),S("br",null),S("div",null,S("h2",null,"Attached Message:"),S("p",null,this.state.message)))}}]),a}(f.Component);t.default=A},lacR:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/receive",function(){return a("MWai")}])}},[["lacR",0,1,2,4,3,5]]]);